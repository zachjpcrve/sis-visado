<!DOCTYPE html PUBLIC "-//W3C//Dtd XHTML 1.0 transitional//EN" "http://www.w3.org/tr/xhtml1/Dtd/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

<ui:param name="root" value="#{request.contextPath}/" />

<ui:composition template="../WEB-INF/plantilla/layout.xhtml">
	<ui:define name="contenido">

		<h:form id="frm">
			<p:outputPanel id="pnlExtractor">
				<p:growl id="idMsmExtractor" sticky="true" />
				<h2>Reporte Extractor</h2>
				
				<p:spacer height="5" />
				
				<p:panel>
					<table id="tablaBusSol" border="0" bordercolor="#00BFFF">
						<tbody>
							<tr bordercolor="white">
								<td><h:outputText styleClass="outputText"
										id="txtFechaInicio" value="Fecha de Inicio:" /></td>
								<td><p:calendar id="calFecIni" pattern="dd/MM/yyyy"
										value="#{reportesMB.fechaInicio}" showOn="button" maxlength="10"
										size="23" locale="es"/></td>
								<td><p:graphicImage value="/resources/images/pregunta.jpg"
										id="tooltxtFecIni" /></td>
								<p:tooltip for="tooltxtFecIni" value="Fecha de Inicio"
									showEffect="fade" hideEffect="fade" />
		
								<td><h:outputText styleClass="outputText" id="txtFechaFin"
										value="Fecha de Fin:" /></td>
								<td><p:calendar id="calFecFin" pattern="dd/MM/yyyy"
										value="#{reportesMB.fechaFin}" showOn="button" maxlength="10"
										size="21" locale="es" /></td>
								<td><p:graphicImage value="/resources/images/pregunta.jpg"
										id="tooltxtFecFin" /></td>
								<p:tooltip for="tooltxtFecFin" value="Fecha de Fin"
									showEffect="fade" hideEffect="fade" />
		
							</tr>
							<tr bordercolor="white">
								<td><h:outputText styleClass="outputText" id="txtEstado"
										value="Estado:" /></td>
								<td><p:selectCheckboxMenu id="scmEstados" label="--Todos--"
										value="#{reportesMB.lstEstadoSelected}"
										panelStyle="width:220px;" style="width:162px;">
										<f:selectItems value="#{reportesMB.combosMB.estados}" />
									</p:selectCheckboxMenu></td>
								<td><p:graphicImage value="/resources/images/pregunta.jpg"
										id="tooltxtEstado" /></td>
								<p:tooltip for="tooltxtEstado" value="Estado de la solicitud"
									showEffect="fade" hideEffect="fade" />
							</tr>
						</tbody>
					</table>
				</p:panel>
				
				<p:spacer height="10" />
	
				<table border="0">
					<tr>
						<td><p:commandButton id="cmdGenerar" value="Generar"
								actionListener="#{reportesMB.descargarArchivoExtractor}"
								ajax="false" onclick="PrimeFaces.monitorDownload(start, stop)" update=":frm:idMsmExtractor">
								<p:fileDownload value="#{reportesMB.file}" />
							</p:commandButton> 
							<h:commandLink value="Generar2"
								actionListener="#{reportesMB.descargarArchivoExtractor}"
								target="_blank" ajax="true"  rendered="false">
								<p:fileDownload value="#{reportesMB.file}" />
							</h:commandLink>
						</td>
						<td>
							<p:commandButton value="Limpiar" actionListener="#{reportesMB.limpiarFilExt}" update=":frm:pnlExtractor" />
						</td>
					</tr>
				</table>
			</p:outputPanel>
		</h:form>


	</ui:define>
</ui:composition>

</html>