<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="../WEB-INF/plantilla/layout.xhtml">
	<ui:define name="contenido">

				<h:panelGrid columns="5">

			<p:tabMenu activeIndex="0" style="width:750px;">
				<p:menuitem value="Solicitud" url="/faces/paginas/detalleSolicitud.xhtml"
					icon="ui-icon-star" />
				<p:menuitem value="Seguimiento" actionListener="#{consultarSolicitudMB.obtenerHistorialSolicitud}"
					url="/faces/paginas/seguimientoPestania.xhtml" icon="ui-icon-star" />
			
			</p:tabMenu>

			<p:toolbar>
				<p:toolbarGroup align="rigth">
					<p:commandButton value="Imprimir" id="btnImprimir3"
						icon="ui-icon-document" />
					<p:commandButton value="Salir" id="btnSalir3"
						icon="ui-icon-document" />
				</p:toolbarGroup>
			</p:toolbar>

		</h:panelGrid>
		
		
		
		<h:form id="formSolicitudSeguimiento">
	      <p:spacer></p:spacer>
	      <h:panelGrid columns="2">
	      <h:panelGrid >
	        <p:messages id="idGrowlSolicitudRegistro"></p:messages>
	        
											
			<p:editor id="editor" value="#{consultarSolicitudMB.solicitudRegistrarT.obs}" width="380" height="400"/>

			<h:panelGrid columns="2" style="margin-top:10px">
				<p:commandButton id="submitButton" value="Guardar" update="display" actionListener="#{consultarSolicitudMB.seterComentario}"
					 icon="ui-icon-disk" />
				<p:commandButton id="clearButton" type="button" value="Limpiar"
					onclick="editor.clear()" icon="ui-icon-close" />
			</h:panelGrid>
<!-- oncomplete="dlg.show()" -->
			<p:dialog header="Content" widgetVar="dlg" showEffect="fade"
				hideEffect="fade" modal="true">
				<h:outputText id="display" value="#{editorMB.value}"
					escape="false" />
			</p:dialog>
			
	      </h:panelGrid>
	      <h:panelGrid>
	
			
			<table>
			<tr>
			<td width="100%">
			
			<h:outputText title="Seguimiento" value="Seguimiento" styleClass="outputText" />
			<p:separator styleClass="fielset" />
          <p:dataTable value="#{consultarSolicitudMB.lstSeguimientoDTO}" var="seg" rows="5" id="datosSeguimiento"
						paginatorPosition="bottom" scrollable="true" scrollHeight="120"
						paginator="false"
						paginatorTemplate="{FirstPageLink} {PreviousPageLink} {NextPageLink} {LastPageLink}"
						rowsPerPageTemplate="5,10,15"
						emptyMessage="">
				
						<p:column headerText="Estado" width="55" exportable="false" style="font-size: 9px">
							<h:outputText value="#{seg.estado}" style="font-size: 9px"/>							  							 
						</p:column>
						
						<p:column headerText="Nivel" width="55" exportable="false" style="font-size: 9px">
							<h:outputText value="#{seg.nivel}" style="font-size: 9px"/>							  							 
						</p:column>
						
						<p:column headerText="Fecha" width="55" exportable="false" style="font-size: 9px">
							<h:outputText value="#{seg.fecha}" style="font-size: 9px"/>  							 
						</p:column>
						
						<p:column headerText="Usuario" width="165" exportable="false" style="font-size: 9px">
							<h:outputText value="#{seg.regUsuario} #{seg.usuario}" style="font-size: 9px"/>  							 
						</p:column>
						
						<p:column headerText="Ver" width="55" exportable="false" style="font-size: 9px">							  
							 <p:commandButton icon="ui-icon-document">		                       
		                     </p:commandButton>
						</p:column>																		
				</p:dataTable>
			
				</td>
				</tr>
				<tr>
			<td width="100%">
			<p:panel rendered="#{consultarSolicitudMB.bSeccionReasignacion}" >
			<h:outputText title="Reasignar" value="Reasignar" styleClass="outputText" />
			<p:separator styleClass="fielset" />
			<h:panelGrid columns="2">
			<h:panelGrid columns="2">
			<h:outputText  value="Estudio" styleClass="outputText"/>
			<p:selectOneMenu id="cboEstudio" value="#{consultarSolicitudMB.solicitudRegistrarT.tiivsEstudio.codEstudio}" valueChangeListener="#{consultarSolicitudMB.abogadosXEstudios}"> 
					 <p:ajax update=":formSolicitudSeguimiento:cboAbogado" event="change"> </p:ajax> 
					<f:selectItem itemLabel="-Seleccione-" itemValue="" />
					 <f:selectItems  value="#{combosMB.lstEstudio}" var="lOf" itemValue="#{lOf.codEstudio}" itemLabel="#{lOf.desEstudio}" />
					
					 
			</p:selectOneMenu>
			</h:panelGrid>
			
			<p:commandButton id="btnAceptar" value="Aceptar" action="#{consultarSolicitudMB.reasignacionManual}" update=":formSolicitudSeguimiento:idGrowlSolicitudRegistro"/>
			<h:panelGrid columns="2">
			<h:outputText  value="Abogado" styleClass="outputText"/>
			<p:selectOneMenu id="cboAbogado" value="#{consultarSolicitudMB.solicitudRegistrarT.regAbogado}" required="false" requiredMessage="Seleccione al menos una Oficina" style="font-size:0.98em"> 
					<f:selectItem itemLabel="-Seleccione-" itemValue="" />
					 <f:selectItems  value="#{consultarSolicitudMB.lstAbogados}" var="lOf" itemValue="#{lOf.codMiembro}" itemLabel="#{lOf.descripcion}" /> 
			</p:selectOneMenu>
			
			</h:panelGrid>
			</h:panelGrid>
				</p:panel>
			</td>
				</tr>
				<tr>
			<td width="100%">
			<p:panel rendered="#{consultarSolicitudMB.bSeccionDictaminar}">
			<h:outputText title="Dictaminar" value="Dictaminar" styleClass="outputText" />
			<p:separator styleClass="fielset" />
			
			<h:panelGrid columns="3">
			
			<h:outputText  value="Dictamen : " styleClass="outputText"/>
			<p:selectOneMenu id="cboDictamen" value="#{consultarSolicitudMB.valorDictamen}" > 
					<f:selectItem itemLabel="-Seleccione-" itemValue="" />
					 <f:selectItems  value="#{consultarSolicitudMB.lstComboDictamen}" var="lOf" itemValue="#{lOf.key}" itemLabel="#{lOf.descripcion}" /> 
			</p:selectOneMenu>
				<p:commandButton id="btnAceptarDictamen" value="Aceptar" action="#{consultarSolicitudMB.dictaminarSolicitud}"/>
			</h:panelGrid>
			
			</p:panel>
			</td>
				</tr>
			<tr>
			<td width="100%">
			<h:outputText title="Documentos" value="Documentos" styleClass="outputText" />
			<p:separator styleClass="fielset" />
			
			
			</td>
				</tr>
				</table>
				

</h:panelGrid>
</h:panelGrid>
		</h:form>



	</ui:define>
</ui:composition>

</html>
