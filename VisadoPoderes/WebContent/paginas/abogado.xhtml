<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="../WEB-INF/plantilla/layout.xhtml">
	<ui:define name="contenido">
		<!-- Abogado -->
		<h:form id="frmMantenimientoAbogado">
			<p:panel header="Perfil-Usuario" style="width: 85%">
				<p:messages id="idMsmDocumento"></p:messages>
				<table>
					<tr>
						<td><h:outputText value="Perfil " /></td>
						<td><p:selectOneMenu id="cboGrupo"
								value="#{abogadoMB.abogado.tiivsGrupo.codGrupo}">
								<f:selectItems value="#{abogadoMB.grupos}"
									itemLabel="#{cboGruG.desGrupo}" itemValue="#{cboGruG.codGrupo}"
									var="cboGruG"></f:selectItems>
									<p:ajax update="frmMantenimientoAbogado"
									listener="#{abogadoMB.selecPerfilEstudioGuardar}" />
							</p:selectOneMenu></td>
					</tr>
					<tr>
						<td><h:outputText value="Criterio " /></td>
						<td><p:selectOneMenu id="cboCriterio"
								value="#{abogadoMB.abogado.criterio}">
								<f:selectItems value="#{abogadoMB.criterios}"
									itemLabel="#{cboCri.valor1}" itemValue="#{cboCri.id.codElem}"
									var="cboCri"></f:selectItems>
							</p:selectOneMenu></td>
					</tr>
					<tr>
						<td><h:outputText value="Codigo:  " /></td>
						<td><p:inputText id="txtCodigo"
								value="#{abogadoMB.abogado.codMiembro}" maxlength="50" /></td>
					</tr>
					<tr>
						<td><h:outputText value="Descripcion:  " /></td>
						<td><p:inputText id="txtDescripcion"
								value="#{abogadoMB.abogado.descripcion}" maxlength="50" /></td>
					</tr>
					<tr>
						<td><h:outputText id="lblEstudioGuardar" value="Estudio " rendered="#{abogadoMB.mostrarComboEstudioGuardar}" /></td>
						<td><p:selectOneMenu id="cboEstudioGuardar" rendered="#{abogadoMB.mostrarComboEstudioGuardar}"
								value="#{abogadoMB.abogado.estudio}">
								<f:selectItems value="#{abogadoMB.estudios}"
									itemLabel="#{cboEstG.desEstudio}"
									itemValue="#{cboEstG.codEstudio}" var="cboEstG"></f:selectItems>
							</p:selectOneMenu></td>
					</tr>
					<tr>
						<td><p:commandButton id="registrar" value="Guardar"
								ajax="true" action="#{abogadoMB.listarAbogados}"
								actionListener="#{abogadoMB.registrar}"
								update=":frmDataTableAbogado :frmMantenimientoAbogado">
							</p:commandButton></td>
					</tr>

				</table>
			</p:panel>
		</h:form>
		<!-- Fin Abogado -->
		<!-- Data Table Abogado -->
		<h:form id="frmDataTableAbogado">
			<p:panel header="Perfil-Usuario" style="width: 85%">
					<table>
					<tr>
						<td><h:outputText value="Perfil " /></td>
						<td><p:selectOneMenu id="cboGrupo"
								value="#{abogadoMB.abogado.tiivsGrupo.codGrupo}">
								<f:selectItem itemLabel="SELECCIONAR PERFIL" itemValue="-1" />
								<f:selectItems value="#{abogadoMB.gruposFiltro}"
									itemLabel="#{cboGru.desGrupo}" itemValue="#{cboGru.codGrupo}"
									var="cboGru"></f:selectItems>
									<p:ajax update=":frmDataTableAbogado"
									listener="#{abogadoMB.selecPerfilEstudio}" />
							</p:selectOneMenu></td>
					</tr>
					<tr>
						<td><h:outputText id="lblEstudio" value="Estudio " rendered="#{abogadoMB.mostrarComboEstudio}"/></td>
						<td><p:selectOneMenu id="cboEstudio" rendered="#{abogadoMB.mostrarComboEstudio}"
								value="#{abogadoMB.abogado.estudio}">
								<f:selectItem itemLabel="SELECCIONAR ESTUDIO" itemValue="-1" />
								<f:selectItems value="#{abogadoMB.estudiosFiltro}"
									itemLabel="#{cboEst.desEstudio}"
									itemValue="#{cboEst.codEstudio}" var="cboEst"></f:selectItems>
							</p:selectOneMenu></td>
					</tr>
					<tr>
						<td><p:commandButton id="buscar" value="Buscar"
								ajax="true" action="#{abogadoMB.listarAbogadosCombo}"
								update=":frmDataTableAbogado :frmMantenimientoAbogado">
							</p:commandButton></td>
					</tr>

				</table>
				<p:dataTable id="dtbAbogado" value="#{abogadoMB.abogados}" var="abo"
					paginator="true" rows="50" paginatorPosition="bottom"
					paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {CurrentPageReport}"
					currentPageReportTemplate="Mostrando {startRecord} - {endRecord} de {totalRecords}"
					emptyMessage="No hay registros">

					<p:column headerText="Codigo">
						<h:outputText value="#{abo.codMiembro}" />
					</p:column>
					<p:column headerText="Descripcion">
						<h:outputText value="#{abo.descripcion}" />
					</p:column>
					<p:column headerText="Criterio">
						<h:outputText value="#{abo.criterio}" />
					</p:column>
					<p:column headerText="Estudio">
						<h:outputText value="#{abo.estudio}" />
					</p:column>
					<p:column headerText="Accion">
						<p:commandLink id="clinkEditar" ajax="false" update=":frmMantenimientoAbogado"
							actionListener="#{abogadoMB.editarAbogado}">
							<f:param name="codAbogado" value="#{abo.codMiembro}"></f:param>
							<h:outputText value="Editar" />
						</p:commandLink>
					</p:column>
				</p:dataTable>
			</p:panel>

		</h:form>
		<!--Fin Data Table Oficina -->
	</ui:define>
</ui:composition>

</html>